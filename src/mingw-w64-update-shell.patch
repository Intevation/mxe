--- a/mingw-w64-crt/lib32/shell32.def
+++ b/mingw-w64-crt/lib32/shell32.def
@@ -1,190 +1,356 @@
-LIBRARY SHELL32.DLL
+;
+; Definition file of SHELL32.dll
+; Automatic generated by gendef
+; written by Kai Tietz 2008
+;
+LIBRARY "SHELL32.dll"
 EXPORTS
-WOWShellExecute@28
-StrStrW@8
-StrStrIW@8
-StrStrIA@8
-StrStrA@8
-StrRStrW@12
-StrRStrIW@12
-StrRStrIA@12
-StrRStrA@12
-StrRChrW@12
-StrRChrIW@12
-StrRChrIA@12
-StrRChrA@12
-StrNCpyW@12
-StrNCpyA@12
-StrNCmpW@12
-StrNCmpIW@12
-StrNCmpIA@12
-StrNCmpA@12
-StrCpyNW@12
-StrCpyNA@12
-StrCmpNW@12
-StrCmpNIW@12
-StrCmpNIA@12
-StrCmpNA@12
-StrChrW@8
-StrChrIW@8
-StrChrIA@8
-StrChrA@8
-SHUpdateRecycleBinIcon@0
+SHChangeNotifyRegister@24
+SHDefExtractIconA@24
+SHChangeNotifyDeregister@4
+SHDefExtractIconW@24
+PifMgr_OpenProperties@16
+PifMgr_GetProperties@20
+PifMgr_SetProperties@20
+PifMgr_CloseProperties@8
+SHStartNetConnectionDialogW@12
+ILFindLastID@4
+ILRemoveLastID@4
+ILClone@4
+ILCloneFirst@4
+ILIsEqual@8
+DAD_DragEnterEx2@16
+ILIsParent@12
+ILFindChild@8
+ILCombine@8
+ILSaveToStream@8
+SHILCreateFromPath@12
+IsLFNDriveA@4
+IsLFNDriveW@4
+PathIsExe@4
+PathMakeUniqueName@20
+PathQualify@4
+PathResolve@12
+RestartDialog@12
+PickIconDlg@16
+GetFileNameFromBrowse@28
+DriveType@4
+IsNetDrive@4
+Shell_MergeMenus@24
+SHGetSetSettings@12
+Shell_GetImageLists@8
+Shell_GetCachedImageIndex@12
+SHShellFolderView_Message@12
+SHCreateStdEnumFmtEtc@12
+PathYetAnotherMakeUniqueName@16
+SHMapPIDLToSystemImageListIndex@12
+SHOpenPropSheetW@28
+OpenAs_RunDLL@16
+CIDLData_CreateFromIDArray@16
+OpenRegStream@16
+SHDoDragDrop@20
+SHCloneSpecialIDList@12
+SHFindFiles@8
+PathGetShortPath@4
+SHGetRealIDL@12
+SHRestricted@4
+SHCoCreateInstance@20
+SignalFileOpen@4
+IsLFNDrive@4
+OpenAs_RunDLLA@16
+DAD_AutoScroll@12
+DAD_DragEnterEx@12
+DAD_DragLeave@0
+OpenAs_RunDLLW@16
+DAD_DragMove@8
+PrepareDiscForBurnRunDllW@16
+DAD_SetDragImage@8
+DAD_ShowDragImage@4
+PrintersGetCommand_RunDLL@16
+PrintersGetCommand_RunDLLA@16
+SHCLSIDFromString@8
+SHFind_InitMenuPopup@16
+PrintersGetCommand_RunDLLW@16
+ILGetSize@4
+ILGetNext@4
+ILAppendID@12
+ILFree@4
+ILCreateFromPath@4
 SHSimpleIDListFromPath@4
-SHSetUnreadMailCountW@12
-SHSetLocalizedName@12
-SHQueryRecycleBinW@8
-SHQueryRecycleBinA@8
-SHPathPrepareForWriteW@16
-SHPathPrepareForWriteA@16
-SHParseDisplayName@20
-SHOpenFolderAndSelectItems@16
-SHLoadNonloadedIconOverlayIdentifiers@0
-SHLoadInProc@4
-SHIsFileAvailableOffline@8
-SHInvokePrinterCommandW@20
-SHInvokePrinterCommandA@20
-SHILCreateFromPath@12
+Win32DeleteFile@4
+SHCreateDirectory@8
+SHAddFromPropSheetExtArray@12
+SHCreatePropSheetExtArray@12
+SHDestroyPropSheetExtArray@4
+SHReplaceFromPropSheetExtArray@16
+PathCleanupSpec@8
+SHValidateUNC@12
+SHCreateShellFolderViewEx@8
+SHSetInstanceExplorer@4
+SHObjectProperties@16
+SHGetNewLinkInfoA@20
+SHGetNewLinkInfoW@20
+ShellMessageBoxW
+ShellMessageBoxA
+ILCreateFromPathA@4
+ILCreateFromPathW@4
+SHUpdateImageA@16
+SHUpdateImageW@16
+SHHandleUpdateImage@4
+SHFree@4
+SHAlloc@4
 SHHelpShortcuts_RunDLL@16
-SHGetUnreadMailCountW@24
-SHGetSpecialFolderPathW@16
-SHGetSpecialFolderPathA@16
-SHGetSpecialFolderLocation@12
-SHGetSetSettings@12
-SHGetSettings@8
-SHGetPathFromIDListW@8
-SHGetPathFromIDListA@8
-SHGetPathFromIDList@8
-SHGetNewLinkInfoW@20
-SHGetNewLinkInfoA@20
-SHGetNewLinkInfo@20
-SHGetMalloc@4
-SHGetInstanceExplorer@4
-SHGetImageList@12
-SHGetIconOverlayIndexW@8
-SHGetIconOverlayIndexA@8
+SHHelpShortcuts_RunDLLA@16
+SHHelpShortcuts_RunDLLW@16
+AppCompat_RunDLLW@16
+AssocCreateForClasses@16
+AssocGetDetailsOfPropKey@20
+CheckEscapesW@8
+SHSetFolderPathA@16
+SHSetFolderPathW@16
+CommandLineToArgvW@8
+PathIsSlowW@8
+PathIsSlowA@8
+SHTestTokenMembership@8
+Control_RunDLL@16
+SHCreateShellFolderView@8
+Control_RunDLLA@16
+Control_RunDLLAsUserW@16
+Control_RunDLLW@16
+DllCanUnloadNow@0
+DllGetClassObject@12
+DllGetVersion@4
+DllInstall@8
+DllRegisterServer@0
+DllUnregisterServer@0
+DoEnvironmentSubstA@8
+DoEnvironmentSubstW@8
+DragAcceptFiles@8
+DragFinish@4
+DragQueryFile@16
+DragQueryFileA@16
+DragQueryFileAorW@24
+DragQueryFileW@16
+DragQueryPoint@8
+DuplicateIcon@8
+ExtractAssociatedIconA@12
+ExtractAssociatedIconExA@16
+ExtractAssociatedIconExW@16
+ExtractAssociatedIconW@12
+ExtractIconA@12
+ExtractIconEx@20
+ExtractIconExA@20
+ExtractIconExW@20
+ExtractIconW@12
+FindExecutableA@12
+FindExecutableW@12
+FreeIconList@8
+GetCurrentProcessExplicitAppUserModelID@4
+InitNetworkAddressControl@0
+InternalExtractIconListA@12
+InternalExtractIconListW@12
+LaunchMSHelp_RunDLLW@16
+Options_RunDLL@16
+Options_RunDLLA@16
+Options_RunDLLW@16
+RealShellExecuteA@40
+RealShellExecuteExA@44
+RealShellExecuteExW@44
+RealShellExecuteW@40
+RegenerateUserEnvironment@8
+RunAsNewUser_RunDLLW@16
+SHAddDefaultPropertiesByExt@8
+SHAddToRecentDocs@8
+SHAppBarMessage@8
+SHAssocEnumHandlers@12
+SHAssocEnumHandlersForProtocolByApplication@12
+SHBindToFolderIDListParent@20
+SHBindToFolderIDListParentEx@24
+SHBindToObject@20
+SHBindToParent@16
+SHBrowseForFolder@4
+SHBrowseForFolderA@4
+SHBrowseForFolderW@4
+SHChangeNotify@16
+SHChangeNotifyRegisterThread@4
+SHChangeNotifySuspendResume@16
+SHCreateAssociationRegistration@8
+SHCreateDataObject@24
+SHCreateDefaultContextMenu@12
+SHCreateDefaultExtractIcon@8
+SHCreateDefaultPropertiesOp@8
+SHCreateDirectoryExA@12
+SHCreateDirectoryExW@12
+SHCreateItemFromIDList@12
+SHCreateItemFromParsingName@16
+SHCreateItemFromRelativeName@20
+SHCreateItemInKnownFolder@20
+SHCreateItemWithParent@20
+SHCreateLocalServerRunDll@16
+SHCreateProcessAsUserW@4
+SHCreateQueryCancelAutoPlayMoniker@4
+SHCreateShellItem@16
+SHCreateShellItemArray@20
+SHCreateShellItemArrayFromDataObject@12
+SHCreateShellItemArrayFromIDLists@12
+SHCreateShellItemArrayFromShellItem@12
+SHEmptyRecycleBinA@12
+SHEmptyRecycleBinW@12
+SHEnableServiceObject@8
+SHEnumerateUnreadMailAccountsW@16
+SHEvaluateSystemCommandTemplate@16
+SHExtractIconsW@32
+SHFileOperation@4
+SHFileOperationA@4
+SHFileOperationW@4
+SHFormatDrive@16
+SHFreeNameMappings@4
+SHGetDataFromIDListA@20
+SHGetDataFromIDListW@20
+SHGetDesktopFolder@4
+SHGetDiskFreeSpaceA@16
+SHGetDiskFreeSpaceExA@16
+SHGetDiskFreeSpaceExW@16
+SHGetDriveMedia@8
+SHGetFileInfo@20
+SHGetFileInfoA@20
+SHGetFileInfoW@20
+SHGetFolderLocation@20
+SHGetFolderPathA@20
+SHGetFolderPathAndSubDirA@24
 SHGetFolderPathAndSubDirW@24
-SHGetFolderPathAndSubDirA@24
-; SHGetFolder is in shell32.dll on W2K up,
-; but in redistributable shfolder.dll for earlier OS versions.
+SHGetFolderPathEx@20
 SHGetFolderPathW@20
-SHGetFolderPathA@20
-SHGetFolderLocation@20
-SHGetFileInfoW@20
-SHGetFileInfoA@20
-SHGetFileInfo@20
-SHGetDiskFreeSpaceExW@16
-SHGetDiskFreeSpaceExA@16
-SHGetDiskFreeSpaceA@16
-SHGetDesktopFolder@4
-SHGetDataFromIDListW@20
-SHGetDataFromIDListA@20
-SHFreeNameMappings@4
-SHFormatDrive@16
-SHFileOperationW@4
-SHFileOperationA@4
-SHFileOperation@4
-SHExtractIconsW@32
 SheShortenPathW@8
 SheShortenPathA@8
+SHGetIDListFromObject@8
+SHGetIconOverlayIndexA@8
+SHGetIconOverlayIndexW@8
+SHGetInstanceExplorer@4
+SHGetItemFromDataObject@16
+SHGetItemFromObject@12
+SHGetKnownFolderIDList@16
+SHGetKnownFolderItem@20
+SHGetKnownFolderPath@16
+SHGetLocalizedName@16
+SHGetMalloc@4
+SHGetNameFromIDList@12
+SHGetNewLinkInfo@20
+SHGetPathFromIDList@8
+SHGetPathFromIDListA@8
+SHGetPathFromIDListEx@16
+SHGetPathFromIDListW@8
+SHGetPropertyStoreForWindow@12
+SHGetPropertyStoreFromIDList@16
+SHGetPropertyStoreFromParsingName@20
+SHGetSettings@8
+SHGetSpecialFolderLocation@12
+SHGetSpecialFolderPathA@16
+SHGetSpecialFolderPathW@16
+SHGetStockIconInfo@12
+SHGetTemporaryPropertyForItem@12
+SHGetUnreadMailCountW@24
+SHInvokePrinterCommandA@20
+SHInvokePrinterCommandW@20
+SHIsFileAvailableOffline@8
+SHLoadInProc@4
+SHLoadNonloadedIconOverlayIdentifiers@0
+SHOpenFolderAndSelectItems@16
+SHOpenWithDialog@8
+SHParseDisplayName@20
+SHPathPrepareForWriteA@16
+SHPathPrepareForWriteW@16
+SHQueryRecycleBinA@8
+SHQueryRecycleBinW@8
+SHQueryUserNotificationState@4
+SHRemoveLocalizedName@4
+SHResolveLibrary@4
+SHSetDefaultProperties@16
+SHSetKnownFolderPath@16
+SHSetLocalizedName@12
+SHSetTemporaryPropertyForItem@12
+SHSetUnreadMailCountW@12
+SHShowManageLibraryUI@20
+SHUpdateRecycleBinIcon@0
+SetCurrentProcessExplicitAppUserModelID@4
+SheChangeDirA@4
+SheChangeDirExW@4
+SheChangeDirExA@4
+SheGetDirA@8
 SheSetCurDrive@4
 SheRemoveQuotesW@4
 SheRemoveQuotesA@4
-SHEnumerateUnreadMailAccountsW@16
-SHEmptyRecycleBinW@12
-SHEmptyRecycleBinA@12
+ShellAboutA@16
+ShellAboutW@16
+ShellExec_RunDLL@16
+ShellExec_RunDLLA@16
+ShellExec_RunDLLW@16
+ShellExecuteA@24
+ShellExecuteEx@4
+ShellExecuteExA@4
+ShellExecuteExW@4
+ShellExecuteW@24
 ShellHookProc@12
-ShellExecuteW@24
-ShellExecuteExW@4
-ShellExecuteExA@4
-ShellExecuteEx@4
-ShellExecuteA@24
-ShellAboutW@16
-ShellAboutA@16
+Shell_GetCachedImageIndexA@12
+Shell_GetCachedImageIndexW@12
+Shell_NotifyIcon@8
+Shell_NotifyIconA@8
+Shell_NotifyIconGetRect@8
 Shell_NotifyIconW@8
-Shell_NotifyIconA@8
-Shell_NotifyIcon@8
 SheGetPathOffsetW@4
+SheGetCurDrive@0
 SheGetDirW@8
-SheGetDirExW@12
-SheGetDirA@8
-SheGetCurDrive@0
 SheFullPathW@12
 SheFullPathA@12
 SheConvertPathW@12
 SheChangeDirW@4
-SheChangeDirExW@4
-SheChangeDirExA@4
-SheChangeDirA@4
-SHCreateShellItem@16
-SHCreateQueryCancelAutoPlayMoniker@4
-SHCreateProcessAsUserW@4
-SHCreateDirectoryExW@12
-SHCreateDirectoryExA@12
-SHCoCreateInstance@20
-SHChangeNotify@16
-SHBrowseForFolderW@4
-SHBrowseForFolderA@4
-SHBrowseForFolder@4
-SHBindToParent@16
-SHAppBarMessage@8
-SHAddToRecentDocs@8
-RegisterShellHook@8
-RegenerateUserEnvironment@8
-RealShellExecuteW@40
-RealShellExecuteExW@44
-RealShellExecuteExA@44
-RealShellExecuteA@40
-PrintersGetCommand_RunDLL@16
-OpenAs_RunDLL@16
-InternalExtractIconListW@12
-InternalExtractIconListA@12
-FreeIconList@8
-FindExeDlgProc@16
-FindExecutableW@12
-FindExecutableA@12
-ExtractVersionResource16W@8
-ExtractIconW@12
+ExtractIconW@
 ExtractIconResInfoW@20
 ExtractIconResInfoA@20
-ExtractIconExW@20
-ExtractIconExA@20
-ExtractIconEx@20
-ExtractIconA@12
-ExtractAssociatedIconW@12
-ExtractAssociatedIconExW@16
-ExtractAssociatedIconExA@16
-ExtractAssociatedIconA@12
-DuplicateIcon@8
-DragQueryPoint@8
-DragQueryFileW@16
-DragQueryFileAorW@24
-DragQueryFileA@16
-DragQueryFile@16
-DragFinish@4
-DragAcceptFiles@8
-DoEnvironmentSubstW@8
-DoEnvironmentSubstA@8
-Control_RunDLL@16
-Control_FillCache_RunDLL@16
-CommandLineToArgvW@8
-CheckEscapesW@8
-CheckEscapesA@8
-ILAppendID@12
-ILClone@4
-ILCloneFirst@4
-ILCombine@8
-ILCreateFromPath@4
-ILCreateFromPathA@4
-ILCreateFromPathW@4
-ILFindChild@8
-ILFindLastID@4
-ILFree@4
-ILGetNext@4
-ILGetSize@4
-ILIsEqual@8
-ILIsParent@12
-ILLoadFromStream@8
-ILRemoveLastID@4
-ILSaveToStream@8
-PathResolve@12
+SheGetDirExW@12
+StrChrA@8
+StrChrIA@8
+StrChrIW@8
+StrChrW@8
+StrCmpNA@12
+StrCmpNIA@12
+StrCmpNIW@12
+StrCmpNW@12
+StrNCmpA@12
+StrNCmpIA@12
+StrNCmpIW@12
+StrNCmpW@12
+StrRChrA@12
+StrRChrIA@12
+StrRChrIW@12
+StrRChrW@12
+StrRStrA@12
+StrRStrIA@12
+StrRStrIW@12
+StrRStrW@12
+StrStrA@8
+StrStrIA@8
+StrStrIW@8
+StrStrW@8
+WOWShellExecute@28
+WaitForExplorerRestartW@16
+RealDriveType@8
+SHFlushSFCache@0
+SHChangeNotification_Lock@16
+SHChangeNotification_Unlock@4
+WriteCabinetState@4
+ReadCabinetState@8
+IsUserAnAdmin@0
+StgMakeUniqueName@20
+SHPropStgCreate@32
+SHPropStgReadMultiple@20
+SHPropStgWriteMultiple@24
+CDefFolderMenu_Create2@36
+SHGetSetFolderCustomSettings@12
+SHMultiFileProperties@8
+SHGetImageList@12
+RestartDialogEx@16
+SHCreateFileExtractIconW@16
+SHLimitInputEdit@8
+SHGetAttributesFromDataObject@16
+ILLoadFromStreamEx@8
